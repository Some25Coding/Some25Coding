<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üïí Powerful Time & Weather Teller</title>
  <style>
    body {
      font-family: 'Century', sans-serif;
      background: linear-gradient(135deg, #0b0b0b, #1a1a1a);
      color: #fff;
      text-align: center;
      padding: 50px;
    }

    h1 {
      font-size: 3em;
      margin-bottom: 40px;
      background: linear-gradient(90deg, #4fd1c5, #63b3ed, #f6ad55);
      background-size: 200%;
      background-clip: text;
      -webkit-background-clip: text;
      color: transparent;
      -webkit-text-fill-color: transparent;
      animation: gradientMove 5s linear infinite;
    }

    @keyframes gradientMove {
      to {
        background-position: 200% center;
      }
    }

    .city-block {
      border: 1px solid #333;
      border-radius: 12px;
      padding: 25px;
      margin: 20px auto;
      width: 320px;
      background-size: cover;
      background-position: center;
      color: #fff;
      text-shadow: 0 0 5px #000;
      box-shadow: 0 0 15px #000;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .city-block:hover {
      transform: translateY(-5px);
      box-shadow: 0 0 25px #333;
    }

    .time {
      font-size: 2.2em;
      margin: 10px 0;
    }

    .date {
      font-size: 1.1em;
      color: #eee;
    }

    .zone {
      font-size: 1em;
      color: #ddd;
    }

    .weather {
      margin-top: 10px;
      font-size: 1.3em;
      color: #bde0fe;
      line-height: 1.5em;
    }

    .weather-icon {
      display: block;
      font-size: 3em;
      margin-bottom: 5px;
      transition: transform 0.3s;
    }

    .city-block:hover .weather-icon {
      transform: scale(1.15);
    }

    .sunny { color: #ffd700; }
    .cloudy { color: #cccccc; }
    .rainy { color: #4fc3f7; }
    .stormy { color: #9575cd; }
    .snowy { color: #e0f7fa; }
    .foggy { color: #bdbdbd; }
    .default { color: #9e9e9e; }
  </style>
</head>
<body>
  <h1>üïí Powerful Time & Weather Teller</h1>

  <div id="timeContainer"></div>

  <script>
  // UPDATED: Changed "local" to "addisababa" and "Local" to "Addis Ababa"
  const cities = [
    { id: "addisababa", name: "Addis Ababa", zone: Intl.DateTimeFormat().resolvedOptions().timeZone },
    { id: "la", name: "Los Angeles", zone: "America/Los_Angeles" },
    { id: "ny", name: "New York", zone: "America/New_York" },
    { id: "london", name: "London", zone: "Europe/London" },
    { id: "berlin", name: "Berlin", zone: "Europe/Berlin" },
    { id: "tokyo", name: "Tokyo", zone: "Asia/Tokyo" }
  ];

  // UPDATED: Changed key to "addisababa" and updated background images
  const cityBackgrounds = {
    addisababa: "url('https://images.unsplash.com/photo-1547721066-50e8d0d62a22?auto=format&fit=crop&w=800&q=80')", // New image for Addis Ababa
    la: "url('https://images.unsplash.com/photo-1505245208761-ba872912fac0?auto=format&fit=crop&w=800&q=80')",
    ny: "url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=80')",
    london: "url('https://images.unsplash.com/photo-1505761671935-60b3a7427bad?auto=format&fit=crop&w=800&q=80')",
    berlin: "url('https://images.unsplash.com/photo-1579290076342-a7223b749503?auto=format&fit=crop&w=800&q=80')", // New image for Berlin
    tokyo: "url('https://images.unsplash.com/photo-1549693578-d683be217e58?auto=format&fit=crop&w=800&q=80')"
  };

  const container = document.getElementById("timeContainer");

  // Create city cards
  cities.forEach(c => {
    const block = document.createElement("div");
    block.className = "city-block";
    block.style.backgroundImage = cityBackgrounds[c.id] || "url('https://images.unsplash.com/photo-1503264116251-35a269479413?auto=format&fit=crop&w=800&q=80')";
    // UPDATED: Check for "addisababa" instead of "local"
    block.innerHTML = `
    <div class="weather-icon default" id="${c.id}Icon">üåç</div>
    <div class="time" id="${c.id}Time">${c.name}: --:--:--</div>
    <div class="date" id="${c.id}Date">--</div>
    ${c.id === "addisababa" ? `<div class="zone" id="${c.id}Zone">${c.zone}</div>` : ""}
    <div class="weather" id="${c.id}Weather">Loading...</div>
  `;
  container.appendChild(block);
});

  function getWeatherIcon(desc) {
    desc = desc.toLowerCase();
    if (desc.includes("sun") || desc.includes("clear")) return { icon: "‚òÄÔ∏è", cls: "sunny" };
    if (desc.includes("cloud")) return { icon: "‚òÅÔ∏è", cls: "cloudy" };
    if (desc.includes("rain")) return { icon: "üåßÔ∏è", cls: "rainy" };
    if (desc.includes("thunder") || desc.includes("storm")) return { icon: "‚õàÔ∏è", cls: "stormy" };
    if (desc.includes("snow")) return { icon: "‚ùÑÔ∏è", cls: "snowy" };
    if (desc.includes("fog") || desc.includes("mist") || desc.includes("haze")) return { icon: "üå´Ô∏è", cls: "foggy" };
    return { icon: "üåç", cls: "default" };
  }

  function updateTime() {
    const timeOpts = { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true };
    const dateOpts = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };

    cities.forEach(c => {
      const cityTime = new Date().toLocaleTimeString("en-US", { ...timeOpts, timeZone: c.zone });
      const cityDate = new Date().toLocaleDateString("en-US", { ...dateOpts, timeZone: c.zone });
      document.getElementById(`${c.id}Time`).textContent = `${c.name}: ${cityTime}`;
      document.getElementById(`${c.id}Date`).textContent = cityDate;
      // UPDATED: Check for "addisababa" instead of "local"
      if (c.id === "addisababa")
        document.getElementById(`${c.id}Zone`).textContent = c.zone;
    });
  }

  async function updateWeather() {
    for (const c of cities) {
      try {
        // UPDATED: Check for "addisababa" instead of "local"
        const res = await fetch(`https://wttr.in/${c.id === "addisababa" ? "" : encodeURIComponent(c.name)}?format=j1`);
        const data = await res.json();
        const cond = data.current_condition[0];
        const desc = cond.weatherDesc[0].value;
        const temp = cond.temp_C;
        const humidity = cond.humidity;

        const { icon, cls } = getWeatherIcon(desc);
        const iconEl = document.getElementById(`${c.id}Icon`);
        iconEl.textContent = icon;
        iconEl.className = `weather-icon ${cls}`;

        document.getElementById(`${c.id}Weather`).innerHTML =
          `${temp}¬∞C, ${desc}<br>üíß Humidity: ${humidity}%`;
      } catch {
        document.getElementById(`${c.id}Weather`).textContent = "Weather unavailable";
      }
    }
  }

  setInterval(updateTime, 1000);
  updateTime();
  updateWeather();
  setInterval(updateWeather, 15 * 60 * 1000);
  </script>
</body>
</html>
